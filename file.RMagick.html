<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: RMagick
  
    &mdash; Hornetseye - Ruby-extension for Computer Vision (DEPRECATED, only works with Ruby version up to 2.7.8))
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RMagick";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: RMagick</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Loading+and+Saving+Image+Files">Loading and Saving Image Files</h1>

<p><strong>HornetsEye</strong> makes use of <a href="http://rmagick.rubyforge.org/">RMagick</a>. RMagick supports virtually any image file format. For loading and saving high dynamic range images, the <a href="http://www.openexr.com/">OpenEXR</a> library is used.</p>

<h2 id="label-Traditional+Raster+Formats">Traditional Raster Formats</h2>

<h3 id="label-Grey+Scale+Image">Grey Scale Image</h3>

<p><img src="images/grey.png"></p>

<p>This example shows how to load, display, and save a grey scale image. If the image is a colour image, it is converted to grey scale on-the-fly.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_rmagick</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_xorg</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Hornetseye.html" title="Hornetseye (module)">Hornetseye</a></span></span>
<span class='id identifier rubyid_img'>img</span> <span class='op'>=</span> <span class='const'>MultiArray</span><span class='period'>.</span><span class='id identifier rubyid_load_ubyte'>load_ubyte</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.wedesoft.de/hornetseye-api/images/grey.png</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span>
<span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_save_ubyte'>save_ubyte</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/tmp/grey.png</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<h3 id="label-Colour+Image">Colour Image</h3>

<p><img src="images/colour.png"></p>

<p>This example shows how to load, display, and save a colour image. If the image is a grey scale image, the different colour channels will have the same values.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_rmagick</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_xorg</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Hornetseye.html" title="Hornetseye (module)">Hornetseye</a></span></span>
<span class='id identifier rubyid_img'>img</span> <span class='op'>=</span> <span class='const'>MultiArray</span><span class='period'>.</span><span class='id identifier rubyid_load_ubytergb'>load_ubytergb</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.wedesoft.de/hornetseye-api/images/colour.png</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span>
<span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_save_ubytergb'>save_ubytergb</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/tmp/colour.png</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<h3 id="label-Swapping+Colour+Channels">Swapping Colour Channels</h3>

<p><img src="images/swap_rgb.png"></p>

<p>The following example shows how one can swap the colour channels of an image using the method <span class='object_link'><a href="Hornetseye/RGB.html#swap_rgb-instance_method" title="Hornetseye::RGB#swap_rgb (method)">Hornetseye::RGB#swap_rgb</a></span>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_rmagick</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_xorg</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Hornetseye.html" title="Hornetseye (module)">Hornetseye</a></span></span>
<span class='id identifier rubyid_img'>img</span> <span class='op'>=</span> <span class='const'>MultiArray</span><span class='period'>.</span><span class='id identifier rubyid_load_ubytergb'>load_ubytergb</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.wedesoft.de/hornetseye-api/images/colour.png</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_swap_rgb'>swap_rgb</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span>
</code></pre>

<h2 id="label-High+Dynamic+Range+Images">High Dynamic Range Images</h2>

<h3 id="label-Grey+Scale+Image">Grey Scale Image</h3>

<p><img src="images/minor.jpg"></p>

<p>The values of a high dynamic range images usually exceed the range of the display. The example below scales the values of the image to an average of 256. The values are clipped before the result is displayed.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_openexr</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_xorg</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Hornetseye.html" title="Hornetseye (module)">Hornetseye</a></span></span>
<span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wget -c http://www.wedesoft.de/hornetseye-api/images/bmw.exr</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_img'>img</span> <span class='op'>=</span> <span class='const'>MultiArray</span><span class='period'>.</span><span class='id identifier rubyid_load_sfloat'>load_sfloat</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bmw.exr</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_average'>average</span> <span class='op'>=</span> <span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span> <span class='op'>/</span> <span class='id identifier rubyid_img'>img</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
<span class='lparen'>(</span> <span class='int'>256</span> <span class='op'>*</span> <span class='id identifier rubyid_img'>img</span> <span class='op'>/</span> <span class='id identifier rubyid_average'>average</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_minor'>minor</span><span class='lparen'>(</span> <span class='int'>255</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span>
</code></pre>

<h3 id="label-Colour+Image">Colour Image</h3>

<p><img src="images/hdr.jpg"></p>

<p>The following example loads a colour HDR image, reduces the gamma, and then displays the normalised result.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_openexr</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hornetseye_xorg</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Hornetseye.html" title="Hornetseye (module)">Hornetseye</a></span></span>
<span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wget -c http://www.wedesoft.de/hornetseye-api/images/bmw.exr</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_img'>img</span> <span class='op'>=</span> <span class='const'>MultiArray</span><span class='period'>.</span><span class='id identifier rubyid_load_sfloatrgb'>load_sfloatrgb</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bmw.exr</span><span class='tstring_end'>&#39;</span></span>
<span class='lparen'>(</span> <span class='id identifier rubyid_img'>img</span> <span class='op'>**</span> <span class='float'>0.1</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_normalise'>normalise</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span>
</code></pre>

<h2 id="label-See+Also">See Also</h2>
<ul><li>
<p><span class='object_link'><a href="Hornetseye/MultiArray.html#load_ubyte-class_method" title="Hornetseye::MultiArray.load_ubyte (method)">Hornetseye::MultiArray.load_ubyte</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/MultiArray.html#load_ubytergb-class_method" title="Hornetseye::MultiArray.load_ubytergb (method)">Hornetseye::MultiArray.load_ubytergb</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/MultiArray.html#load_sfloat-class_method" title="Hornetseye::MultiArray.load_sfloat (method)">Hornetseye::MultiArray.load_sfloat</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/MultiArray.html#load_sfloatrgb-class_method" title="Hornetseye::MultiArray.load_sfloatrgb (method)">Hornetseye::MultiArray.load_sfloatrgb</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/Node.html#save_ubyte-instance_method" title="Hornetseye::Node#save_ubyte (method)">Hornetseye::Node#save_ubyte</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/Node.html#save_ubytergb-instance_method" title="Hornetseye::Node#save_ubytergb (method)">Hornetseye::Node#save_ubytergb</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/Node.html#save_sfloat-instance_method" title="Hornetseye::Node#save_sfloat (method)">Hornetseye::Node#save_sfloat</a></span></p>
</li><li>
<p><span class='object_link'><a href="Hornetseye/Node.html#save_sfloatrgb-instance_method" title="Hornetseye::Node#save_sfloatrgb (method)">Hornetseye::Node#save_sfloatrgb</a></span></p>
</li></ul>

<h2 id="label-External+Links">External Links</h2>
<ul><li>
<p><a href="http://rmagick.rubyforge.org/">RMagick</a></p>
</li><li>
<p><a href="http://www.openexr.com/">OpenEXR</a></p>
</li><li>
<p><a href="http://en.wikipedia.org/wiki/High_dynamic_range_imaging">High dynamic range imaging</a></p>
</li><li>
<p><a href="http://en.wikipedia.org/wiki/Tonemapping">Tonemapping</a></p>
</li></ul>
</div></div>

      <div id="footer">
  Generated on Mon Jun 30 10:46:56 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-2.7.8).
</div>

    </div>
  </body>
</html>